import{r as w,j as a}from"./app-Cf-DtJq5.js";import{D as I}from"./DashboardLayout-BqY-66oT.js";/* empty css            */function W({stats:m}){const h=w.useRef(null),[g,P]=w.useState(null),[A,y]=w.useState({x:0,y:0}),[N,R]=w.useState(0),[j,E]=w.useState(0),x=[{label:"Pending",value:m.pending,color:"#F59E0B",hoverColor:"#F97316",gradient:["#FEF3C7","#FCD34D","#F59E0B","#D97706"],icon:"⏳",description:"Jobs waiting to start"},{label:"In Progress",value:m.in_progress,color:"#3B82F6",hoverColor:"#2563EB",gradient:["#DBEAFE","#93C5FD","#3B82F6","#1D4ED8"],icon:"🔄",description:"Currently active jobs"},{label:"Completed",value:m.completed,color:"#10B981",hoverColor:"#059669",gradient:["#D1FAE5","#6EE7B7","#10B981","#047857"],icon:"✅",description:"Successfully finished jobs"},{label:"On Hold",value:m.on_hold,color:"#EF4444",hoverColor:"#DC2626",gradient:["#FEE2E2","#FCA5A5","#EF4444","#B91C1C"],icon:"⏸️",description:"Temporarily paused jobs"}],S=x.reduce((t,e)=>t+e.value,0);w.useEffect(()=>{const t=setInterval(()=>{E(e=>(e+.2)%360)},100);return()=>clearInterval(t)},[]),w.useEffect(()=>{let t,e;const s=o=>{e||(e=o);const c=Math.min((o-e)/1500,1);R((f=>1-Math.pow(1-f,3))(c)),c<1&&(t=requestAnimationFrame(s))};return t=requestAnimationFrame(s),()=>cancelAnimationFrame(t)},[m]);const L=t=>{const e=h.current;if(!e)return;const s=e.getBoundingClientRect(),o=t.clientX-s.left,c=t.clientY-s.top;y({x:t.clientX,y:t.clientY});const p=e.width/2,f=e.height/2,d=Math.min(p,f)-40,u=Math.atan2(c-f,o-p),i=(u<-Math.PI/2?u+2*Math.PI:u)+Math.PI/2;let _=0,C=null;for(let n=0;n<x.length;n++)if(x[n].value>0){const M=x[n].value/S*2*Math.PI*N;if(i>=_&&i<=_+M){const b=Math.sqrt((o-p)**2+(c-f)**2);b<=d&&b>=d*.45&&(C=n);break}_+=M}P(C)},r=()=>{P(null)};return w.useEffect(()=>{const t=h.current;if(!t)return;const e=t.getContext("2d");if(!e)return;const s=t.width/2,o=t.height/2,c=Math.min(s,o)-40;e.clearRect(0,0,t.width,t.height);const p=e.createRadialGradient(s,o,0,s,o,c+50);if(p.addColorStop(0,"#ffffff"),p.addColorStop(.7,"#f8fafc"),p.addColorStop(1,"#f1f5f9"),e.fillStyle=p,e.fillRect(0,0,t.width,t.height),e.shadowColor="rgba(0, 0, 0, 0.08)",e.shadowBlur=25,e.shadowOffsetX=0,e.shadowOffsetY=8,S===0){const i=e.createRadialGradient(s,o,0,s,o,c);i.addColorStop(0,"#f8fafc"),i.addColorStop(.6,"#e2e8f0"),i.addColorStop(1,"#cbd5e1"),e.beginPath(),e.arc(s,o,c,0,2*Math.PI),e.fillStyle=i,e.fill(),e.strokeStyle="#94a3b8",e.lineWidth=2,e.setLineDash([10,10]),e.stroke(),e.setLineDash([]),e.shadowColor="transparent",e.fillStyle="#475569",e.font="bold 18px sans-serif",e.textAlign="center",e.fillText("No Jobs Available",s,o-10),e.font="14px sans-serif",e.fillStyle="#64748b",e.fillText("Add some jobs to see statistics",s,o+15);return}let f=-Math.PI/2+j*Math.PI/180*.1;x.forEach((i,_)=>{if(i.value>0){const C=i.value/S*2*Math.PI*N,n=g===_,M=n?c+12:c,b=n?M+Math.sin(Date.now()/200)*3:M,v=e.createRadialGradient(s-M*.3,o-M*.3,0,s,o,b);v.addColorStop(0,i.gradient[0]),v.addColorStop(.3,i.gradient[1]),v.addColorStop(.7,i.gradient[2]),v.addColorStop(1,i.gradient[3]),e.beginPath(),e.moveTo(s,o),e.arc(s,o,b,f,f+C),e.closePath(),e.fillStyle=v,e.fill(),e.save(),e.clip();const T=e.createRadialGradient(s,o,b*.3,s,o,b);if(T.addColorStop(0,"rgba(0, 0, 0, 0)"),T.addColorStop(1,"rgba(0, 0, 0, 0.1)"),e.fillStyle=T,e.fill(),e.restore(),e.beginPath(),e.arc(s,o,b-2,f,f+C),e.strokeStyle=`rgba(255, 255, 255, ${n?.8:.4})`,e.lineWidth=n?4:2,e.stroke(),e.beginPath(),e.moveTo(s,o),e.lineTo(s+Math.cos(f)*b,o+Math.sin(f)*b),e.strokeStyle="rgba(255, 255, 255, 0.9)",e.lineWidth=3,e.stroke(),C>.4&&N>.8){const B=f+C/2,F=b*.7,D=s+Math.cos(B)*F,k=o+Math.sin(B)*F;e.shadowColor="rgba(0, 0, 0, 0.5)",e.shadowBlur=3,e.font="20px sans-serif",e.textAlign="center",e.fillStyle="#ffffff",e.fillText(i.icon,D,k-8),e.font="bold 14px sans-serif";const G=Math.round(i.value/S*100);e.fillText(`${G}%`,D,k+12),e.shadowColor="transparent"}f+=C}}),e.shadowColor="rgba(0, 0, 0, 0.15)",e.shadowBlur=15,e.shadowOffsetX=0,e.shadowOffsetY=5;const d=e.createRadialGradient(s-20,o-20,0,s,o,c*.45);d.addColorStop(0,"#ffffff"),d.addColorStop(.3,"#fefefe"),d.addColorStop(.7,"#f8fafc"),d.addColorStop(1,"#f1f5f9"),e.beginPath(),e.arc(s,o,c*.45,0,2*Math.PI),e.fillStyle=d,e.fill();const u=e.createLinearGradient(s-c*.45,o-c*.45,s+c*.45,o+c*.45);u.addColorStop(0,"#e2e8f0"),u.addColorStop(.5,"#cbd5e1"),u.addColorStop(1,"#94a3b8"),e.strokeStyle=u,e.lineWidth=3,e.stroke(),e.shadowColor="transparent";const l=e.createLinearGradient(s,o-30,s,o+30);if(l.addColorStop(0,"#1e293b"),l.addColorStop(1,"#475569"),e.fillStyle=l,e.font="bold 32px sans-serif",e.textAlign="center",e.fillText(S.toString(),s,o-8),e.font="bold 14px sans-serif",e.fillStyle="#64748b",e.fillText("TOTAL JOBS",s,o+12),N>.9){const i=(Math.sin(Date.now()/300)+1)/4+.1;e.beginPath(),e.arc(s,o,c*.35,0,2*Math.PI),e.strokeStyle=`rgba(59, 130, 246, ${i})`,e.lineWidth=2,e.stroke()}},[m,S,g,N,j]),a.jsxs("div",{className:"bg-gradient-to-br from-white to-gray-50 rounded-2xl shadow-2xl border border-gray-200 p-8 hover:shadow-3xl transition-all duration-500 transform hover:-translate-y-1",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 rounded-xl flex items-center justify-center shadow-lg",children:a.jsx("i",{className:"fas fa-chart-pie text-white text-xl"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-bold bg-gradient-to-r from-gray-800 to-gray-600 bg-clip-text text-transparent",children:"Job Distribution"}),a.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Real-time status overview"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),a.jsx("span",{className:"px-3 py-1 bg-gradient-to-r from-green-50 to-emerald-50 text-green-700 rounded-full text-sm font-semibold border border-green-200",children:"Live Data"})]})]}),a.jsxs("div",{className:"flex items-center justify-between gap-10",children:[a.jsxs("div",{className:"flex-shrink-0 relative",children:[a.jsx("canvas",{ref:h,width:280,height:280,className:"max-w-full cursor-pointer drop-shadow-lg",onMouseMove:L,onMouseLeave:r}),g!==null&&a.jsxs("div",{className:"fixed z-50 bg-gradient-to-r from-gray-900 to-gray-800 text-white px-4 py-3 rounded-xl shadow-2xl pointer-events-none transform -translate-x-1/2 -translate-y-full border border-gray-700",style:{left:A.x,top:A.y-15},children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("span",{className:"text-lg",children:x[g].icon}),a.jsx("div",{className:"text-sm font-bold text-white",children:x[g].label})]}),a.jsx("div",{className:"text-xs text-gray-300 mb-1",children:x[g].description}),a.jsxs("div",{className:"text-xs text-gray-200",children:[a.jsx("span",{className:"font-semibold text-white",children:x[g].value})," jobs •",a.jsxs("span",{className:"font-semibold text-white",children:[" ",Math.round(x[g].value/S*100),"%"]})," of total"]}),a.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 border-4 border-transparent border-t-gray-800"})]})]}),a.jsxs("div",{className:"flex-1 space-y-4",children:[x.map((t,e)=>a.jsxs("div",{className:`group flex items-center justify-between p-4 rounded-xl border transition-all duration-300 cursor-pointer ${g===e?"bg-gradient-to-r from-blue-50 via-indigo-50 to-purple-50 border-blue-300 shadow-lg scale-105 transform":"hover:bg-gray-50 border-gray-200 hover:border-gray-300 hover:shadow-md"}`,onMouseEnter:()=>P(e),onMouseLeave:()=>P(null),children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-5 h-5 rounded-full shadow-lg border-2 border-white",style:{background:`linear-gradient(135deg, ${t.gradient[1]}, ${t.gradient[2]})`}}),g===e&&a.jsx("div",{className:"absolute inset-0 w-5 h-5 rounded-full animate-ping opacity-30",style:{backgroundColor:t.color}})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-2xl group-hover:scale-110 transition-transform duration-200",children:t.icon}),a.jsxs("div",{children:[a.jsx("div",{className:"font-bold text-gray-800 group-hover:text-gray-900",children:t.label}),a.jsx("div",{className:"text-xs text-gray-500 group-hover:text-gray-600",children:t.description})]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"font-bold text-2xl text-gray-900 group-hover:scale-110 transition-transform duration-200",children:t.value}),S>0&&a.jsxs("div",{className:"text-sm text-gray-500 bg-gray-100 group-hover:bg-gray-200 px-3 py-1 rounded-full transition-colors duration-200",children:[Math.round(t.value/S*100),"%"]})]})]},e)),a.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[a.jsx("span",{className:"font-medium",children:"Total Projects"}),a.jsx("span",{className:"font-bold text-lg text-gray-900",children:S})]}),a.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mt-1",children:[a.jsx("span",{children:"Last updated"}),a.jsx("span",{children:new Date().toLocaleTimeString()})]})]})]})]})]})}function $({stats:m}){const h=w.useRef(null),[g,P]=w.useState(null),[A,y]=w.useState({x:0,y:0}),[N,R]=w.useState(0),j=[{label:"Pending",value:m.pending,color:"#F59E0B",hoverColor:"#F97316",gradient:["#FCD34D","#F59E0B","#D97706"],icon:"fas fa-clock"},{label:"In Progress",value:m.in_progress,color:"#3B82F6",hoverColor:"#2563EB",gradient:["#93C5FD","#3B82F6","#1D4ED8"],icon:"fas fa-spinner"},{label:"Completed",value:m.completed,color:"#10B981",hoverColor:"#059669",gradient:["#6EE7B7","#10B981","#047857"],icon:"fas fa-check-circle"},{label:"On Hold",value:m.on_hold,color:"#EF4444",hoverColor:"#DC2626",gradient:["#FCA5A5","#EF4444","#B91C1C"],icon:"fas fa-pause-circle"}],E=Math.max(...j.map(r=>r.value),1),x=j.reduce((r,t)=>r+t.value,0);w.useEffect(()=>{let r,t;const e=s=>{t||(t=s);const o=Math.min((s-t)/1e3,1);R(o),o<1&&(r=requestAnimationFrame(e))};return r=requestAnimationFrame(e),()=>cancelAnimationFrame(r)},[m]);const S=r=>{const t=h.current;if(!t)return;const e=t.getBoundingClientRect(),s=r.clientX-e.left;r.clientY-e.top,y({x:r.clientX,y:r.clientY});const o=60,p=(t.width-o*2)/j.length;let f=null;for(let d=0;d<j.length;d++){const u=o+d*p+p*.15,l=p*.7;if(s>=u&&s<=u+l){f=d;break}}P(f)},L=()=>{P(null)};return w.useEffect(()=>{const r=h.current;if(!r)return;const t=r.getContext("2d");if(!t)return;const e=60,s=r.width-e*2,o=r.height-e*2,c=s/j.length,p=o-60;t.clearRect(0,0,r.width,r.height);const f=t.createLinearGradient(0,0,0,r.height);f.addColorStop(0,"#fafbfc"),f.addColorStop(1,"#f8fafc"),t.fillStyle=f,t.fillRect(0,0,r.width,r.height),t.strokeStyle="#e2e8f0",t.lineWidth=1,t.setLineDash([5,5]);for(let d=0;d<=5;d++){const u=e+p*d/5;t.beginPath(),t.moveTo(e,u),t.lineTo(r.width-e,u),t.stroke();const l=Math.round(E-E*d/5);t.fillStyle="#64748b",t.font="bold 12px sans-serif",t.textAlign="right",t.fillText(l.toString(),e-15,u+4)}t.setLineDash([]),j.forEach((d,u)=>{const l=e+u*c+c*.15,i=c*.7,_=d.value*N,C=E>0?_/E*p:0,n=e+p-C,M=g===u,b=t.createLinearGradient(l,n,l,n+C);b.addColorStop(0,d.gradient[0]),b.addColorStop(.5,d.gradient[1]),b.addColorStop(1,d.gradient[2]),t.shadowColor="rgba(0, 0, 0, 0.1)",t.shadowBlur=M?15:8,t.shadowOffsetX=0,t.shadowOffsetY=M?8:4;const v=8,T=Math.max(C,0);t.beginPath(),t.moveTo(l+v,n+T),t.lineTo(l+i-v,n+T),t.quadraticCurveTo(l+i,n+T,l+i,n+T-v),t.lineTo(l+i,n+v),t.quadraticCurveTo(l+i,n,l+i-v,n),t.lineTo(l+v,n),t.quadraticCurveTo(l,n,l,n+v),t.lineTo(l,n+T-v),t.quadraticCurveTo(l,n+T,l+v,n+T),t.closePath(),t.fillStyle=M?d.hoverColor:b,t.fill();const B=t.createLinearGradient(l,n,l,n+C*.3);if(B.addColorStop(0,"rgba(255, 255, 255, 0.3)"),B.addColorStop(1,"rgba(255, 255, 255, 0)"),t.fillStyle=B,t.fill(),t.shadowColor="transparent",_>0){const F=Math.round(_);t.font="bold 14px sans-serif",t.textAlign="center";const D=t.measureText(F.toString()).width,k=l+i/2-D/2-6,G=n-25;t.fillStyle=M?d.hoverColor:d.color,t.beginPath(),t.roundRect(k,G,D+12,20,10),t.fill(),t.fillStyle="#ffffff",t.fillText(F.toString(),l+i/2,n-10)}if(t.fillStyle="#475569",t.font="bold 12px sans-serif",t.textAlign="center",t.fillText(d.label,l+i/2,r.height-e+25),x>0){const F=Math.round(d.value/x*100);t.fillStyle="#94a3b8",t.font="10px sans-serif",t.fillText(`${F}%`,l+i/2,r.height-e+40)}}),t.strokeStyle="#475569",t.lineWidth=2,t.beginPath(),t.moveTo(e,e),t.lineTo(e,r.height-e),t.stroke(),t.beginPath(),t.moveTo(e,r.height-e),t.lineTo(r.width-e,r.height-e),t.stroke(),t.fillStyle="#475569",t.font="bold 12px sans-serif",t.textAlign="center",t.save(),t.translate(20,r.height/2),t.rotate(-Math.PI/2),t.fillText("Number of Jobs",0,0),t.restore()},[m,E,g,N,x]),a.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 hover:shadow-xl transition-shadow duration-300",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-green-500 to-blue-600 rounded-lg flex items-center justify-center",children:a.jsx("i",{className:"fas fa-chart-bar text-white text-lg"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Job Status Overview"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Detailed numerical breakdown"})]})]}),a.jsx("div",{className:"px-3 py-1 bg-green-50 text-green-700 rounded-full text-sm font-medium",children:"Real-time"})]}),a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("canvas",{ref:h,width:450,height:350,className:"max-w-full cursor-pointer",onMouseMove:S,onMouseLeave:L}),g!==null&&a.jsxs("div",{className:"fixed z-50 bg-gray-900 text-white px-4 py-3 rounded-lg shadow-xl pointer-events-none transform -translate-x-1/2 -translate-y-full",style:{left:A.x,top:A.y-10},children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("i",{className:`${j[g].icon} text-sm`}),a.jsx("div",{className:"text-sm font-bold",children:j[g].label})]}),a.jsxs("div",{className:"text-xs text-gray-300",children:[j[g].value," jobs",x>0&&` • ${Math.round(j[g].value/x*100)}% of total`]})]}),a.jsx("div",{className:"mt-6 grid grid-cols-2 gap-4 w-full",children:j.map((r,t)=>a.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-lg border transition-all duration-200 ${g===t?"bg-gradient-to-r from-gray-50 to-blue-50 border-blue-200 scale-105 shadow-md":"hover:bg-gray-50 border-gray-100"}`,children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("i",{className:`${r.icon} text-lg`,style:{color:r.color}}),a.jsx("div",{className:"w-3 h-3 rounded-full shadow-sm",style:{background:`linear-gradient(135deg, ${r.gradient[0]}, ${r.gradient[1]})`}})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"text-sm font-medium text-gray-700",children:r.label}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-bold text-lg text-gray-900",children:r.value}),x>0&&a.jsxs("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded-full",children:[Math.round(r.value/x*100),"%"]})]})]})]},t))})]})]})}const O=({stats:m})=>{const h=m||{total_jobs:25,pending_jobs:8,in_progress_jobs:12,completed_jobs:5,on_hold_jobs:0,total_materials:156,active_users:4},g=[{title:"Total Jobs",value:h.total_jobs,icon:"fas fa-briefcase",color:"blue",change:"+12%",changeType:"positive"},{title:"Pending Jobs",value:h.pending_jobs,icon:"fas fa-clock",color:"yellow",change:"+3",changeType:"neutral"},{title:"In Progress",value:h.in_progress_jobs,icon:"fas fa-spinner",color:"blue",change:"+5",changeType:"positive"},{title:"Completed",value:h.completed_jobs,icon:"fas fa-check-circle",color:"green",change:"+2",changeType:"positive"},{title:"Materials",value:h.total_materials,icon:"fas fa-boxes",color:"purple",change:"+18",changeType:"positive"},{title:"Active Users",value:h.active_users,icon:"fas fa-users",color:"indigo",change:"0",changeType:"neutral"}],P=y=>({blue:"bg-blue-500 text-white",yellow:"bg-yellow-500 text-white",green:"bg-green-500 text-white",purple:"bg-purple-500 text-white",indigo:"bg-indigo-500 text-white",red:"bg-red-500 text-white"})[y]||"bg-gray-500 text-white",A=y=>({positive:"text-green-600",negative:"text-red-600",neutral:"text-gray-600"})[y]||"text-gray-600";return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"}),a.jsx("p",{className:"text-gray-600",children:"Welcome to Work Card Management System"})]}),a.jsx("div",{className:"flex items-center gap-3"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:g.slice(0,4).map((y,N)=>a.jsxs("div",{className:"bg-white rounded-lg shadow-md border p-6 hover:shadow-lg transition-shadow",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:`w-12 h-12 rounded-lg ${P(y.color)} flex items-center justify-center`,children:a.jsx("i",{className:y.icon})}),a.jsx("span",{className:`text-sm font-medium ${A(y.changeType)}`,children:y.change})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:y.value}),a.jsx("p",{className:"text-sm text-gray-600",children:y.title})]})]},N))}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsx(W,{stats:{pending:h.pending_jobs,in_progress:h.in_progress_jobs,completed:h.completed_jobs,on_hold:h.on_hold_jobs}}),a.jsx($,{stats:{pending:h.pending_jobs,in_progress:h.in_progress_jobs,completed:h.completed_jobs,on_hold:h.on_hold_jobs}})]})]})};O.layout=m=>a.jsx(I,{children:m});export{O as default};
